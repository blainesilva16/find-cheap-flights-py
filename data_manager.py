import requests

class DataManager:
    #This class is responsible for talking to the Google Sheet.
    def __init__(self, flight_search):
        self.endpoint = "https://api.sheety.co/9d76aafa0f358f65bf8ebf8b052a4b49/flightDeals/prices"
        self.flight_search = flight_search

        # ------------------- I RAN THIS FUNCTION ONCE TO FILL THE IATA CODE FOR EACH COUNTRY IN "Copy of Flight Deals" file
        # ------------------- EXECUTE IT AGAIN IF THE GOOGLE SHEETS FILE IS A NEW ONE
        # self.fill_iata()

        response = requests.get(url=self.endpoint)
        self.sheety_prices = response.json()["prices"]
        self.flights = []
        self.get_cheaper_flights()
        # self.sheety_prices = [
        #     {'city': 'Paris','iataCode': 'PAR','lowestPrice': 170,'id': 2},
        #     {'city': 'Frankfurt','iataCode': 'FRA','lowestPrice': 285,'id': 3},
        #     {'city': 'Tokyo','iataCode': 'TYO','lowestPrice': 1263,'id': 4},
        #     {'city': 'Hong Kong','iataCode': 'HKG','lowestPrice': 890,'id': 5},
        #     {'city': 'Istanbul','iataCode': 'IST','lowestPrice': 152,'id': 6},
        #     {'city': 'Kuala Lumpur','iataCode': 'KUL','lowestPrice': 847,'id': 7},
        #     {'city': 'New York','iataCode': 'NYC','lowestPrice': 414,'id': 8},
        #     {'city': 'San Francisco','iataCode': 'SFO','lowestPrice': 799,'id': 9},
        #     {'city': 'Dublin','iataCode': 'DBN','lowestPrice': 378,'id': 10
        #     }]

        # self.flights = [
        #     {'meta': {'count': 2, 'links': {'self': 'https://test.api.amadeus.com/v2/shopping/flight-offers?originLocationCode=LON&destinationLocationCode=PAR&departureDate=2025-04-06&returnDate=2025-05-05&adults=1&nonStop=true&currencyCode=GBP&max=2'}}, 'data': [{'type': 'flight-offer', 'id': '1', 'source': 'GDS', 'instantTicketingRequired': False, 'nonHomogeneous': False, 'oneWay': False, 'isUpsellOffer': False, 'lastTicketingDate': '2025-04-06', 'lastTicketingDateTime': '2025-04-06', 'numberOfBookableSeats': 3, 'itineraries': [{'duration': 'PT1H15M', 'segments': [{'departure': {'iataCode': 'LHR', 'terminal': '4', 'at': '2025-04-06T19:45:00'}, 'arrival': {'iataCode': 'CDG', 'terminal': '2E', 'at': '2025-04-06T22:00:00'}, 'carrierCode': 'AF', 'number': '1181', 'aircraft': {'code': '223'}, 'operating': {'carrierCode': 'AF'}, 'duration': 'PT1H15M', 'id': '1', 'numberOfStops': 0, 'blacklistedInEU': False}]}, {'duration': 'PT1H30M', 'segments': [{'departure': {'iataCode': 'CDG', 'terminal': '2E', 'at': '2025-05-05T10:00:00'}, 'arrival': {'iataCode': 'LHR', 'terminal': '4', 'at': '2025-05-05T10:30:00'}, 'carrierCode': 'AF', 'number': '1580', 'aircraft': {'code': '223'}, 'operating': {'carrierCode': 'AF'}, 'duration': 'PT1H30M', 'id': '3', 'numberOfStops': 0, 'blacklistedInEU': False}]}], 'price': {'currency': 'GBP', 'total': '166.02', 'base': '53.00', 'fees': [{'amount': '0.00', 'type': 'SUPPLIER'}, {'amount': '0.00', 'type': 'TICKETING'}], 'grandTotal': '166.02', 'additionalServices': [{'amount': '54.20', 'type': 'CHECKED_BAGS'}]}, 'pricingOptions': {'fareType': ['PUBLISHED'], 'includedCheckedBagsOnly': False}, 'validatingAirlineCodes': ['AF'], 'travelerPricings': [{'travelerId': '1', 'fareOption': 'STANDARD', 'travelerType': 'ADULT', 'price': {'currency': 'GBP', 'total': '166.02', 'base': '53.00'}, 'fareDetailsBySegment': [{'segmentId': '1', 'cabin': 'ECONOMY', 'fareBasis': 'TYS0AALA', 'brandedFare': 'LIGHT', 'brandedFareLabel': 'ECONOMY LIGHT', 'class': 'T', 'includedCheckedBags': {'quantity': 0}, 'includedCabinBags': {'quantity': 1}, 'amenities': [{'description': 'CHECKED BAG 1PC OF 23KG 158CM', 'isChargeable': True, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'SNACK', 'isChargeable': False, 'amenityType': 'MEAL', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'BEVERAGE', 'isChargeable': False, 'amenityType': 'MEAL', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'SEAT SELECTION', 'isChargeable': True, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'MILEAGE ACCRUAL', 'isChargeable': False, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'UPGRADE ELIGIBILITY', 'isChargeable': True, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}]}, {'segmentId': '3', 'cabin': 'ECONOMY', 'fareBasis': 'TYS0AALA', 'brandedFare': 'LIGHT', 'brandedFareLabel': 'ECONOMY LIGHT', 'class': 'T', 'includedCheckedBags': {'quantity': 0}, 'includedCabinBags': {'quantity': 1}, 'amenities': [{'description': 'CHECKED BAG 1PC OF 23KG 158CM', 'isChargeable': True, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'SNACK', 'isChargeable': False, 'amenityType': 'MEAL', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'BEVERAGE', 'isChargeable': False, 'amenityType': 'MEAL', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'SEAT SELECTION', 'isChargeable': True, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'MILEAGE ACCRUAL', 'isChargeable': False, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'UPGRADE ELIGIBILITY', 'isChargeable': True, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}]}]}]}, {'type': 'flight-offer', 'id': '2', 'source': 'GDS', 'instantTicketingRequired': False, 'nonHomogeneous': False, 'oneWay': False, 'isUpsellOffer': False, 'lastTicketingDate': '2025-04-06', 'lastTicketingDateTime': '2025-04-06', 'numberOfBookableSeats': 3, 'itineraries': [{'duration': 'PT1H20M', 'segments': [{'departure': {'iataCode': 'LHR', 'terminal': '4', 'at': '2025-04-06T06:15:00'}, 'arrival': {'iataCode': 'CDG', 'terminal': '2E', 'at': '2025-04-06T08:35:00'}, 'carrierCode': 'AF', 'number': '1381', 'aircraft': {'code': '223'}, 'operating': {'carrierCode': 'AF'}, 'duration': 'PT1H20M', 'id': '2', 'numberOfStops': 0, 'blacklistedInEU': False}]}, {'duration': 'PT1H30M', 'segments': [{'departure': {'iataCode': 'CDG', 'terminal': '2E', 'at': '2025-05-05T10:00:00'}, 'arrival': {'iataCode': 'LHR', 'terminal': '4', 'at': '2025-05-05T10:30:00'}, 'carrierCode': 'AF', 'number': '1580', 'aircraft': {'code': '223'}, 'operating': {'carrierCode': 'AF'}, 'duration': 'PT1H30M', 'id': '3', 'numberOfStops': 0, 'blacklistedInEU': False}]}], 'price': {'currency': 'GBP', 'total': '166.02', 'base': '53.00', 'fees': [{'amount': '0.00', 'type': 'SUPPLIER'}, {'amount': '0.00', 'type': 'TICKETING'}], 'grandTotal': '166.02', 'additionalServices': [{'amount': '83.40', 'type': 'CHECKED_BAGS'}]}, 'pricingOptions': {'fareType': ['PUBLISHED'], 'includedCheckedBagsOnly': False}, 'validatingAirlineCodes': ['AF'], 'travelerPricings': [{'travelerId': '1', 'fareOption': 'STANDARD', 'travelerType': 'ADULT', 'price': {'currency': 'GBP', 'total': '166.02', 'base': '53.00'}, 'fareDetailsBySegment': [{'segmentId': '2', 'cabin': 'ECONOMY', 'fareBasis': 'TYS0AALA', 'brandedFare': 'LIGHT', 'brandedFareLabel': 'ECONOMY LIGHT', 'class': 'T', 'includedCheckedBags': {'quantity': 0}, 'includedCabinBags': {'quantity': 1}, 'amenities': [{'description': 'CHECKED BAG 1PC OF 23KG 158CM', 'isChargeable': True, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'SNACK', 'isChargeable': False, 'amenityType': 'MEAL', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'BEVERAGE', 'isChargeable': False, 'amenityType': 'MEAL', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'SEAT SELECTION', 'isChargeable': True, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'MILEAGE ACCRUAL', 'isChargeable': False, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'UPGRADE ELIGIBILITY', 'isChargeable': True, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}]}, {'segmentId': '3', 'cabin': 'ECONOMY', 'fareBasis': 'TYS0AALA', 'brandedFare': 'LIGHT', 'brandedFareLabel': 'ECONOMY LIGHT', 'class': 'T', 'includedCheckedBags': {'quantity': 0}, 'includedCabinBags': {'quantity': 1}, 'amenities': [{'description': 'CHECKED BAG 1PC OF 23KG 158CM', 'isChargeable': True, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'SNACK', 'isChargeable': False, 'amenityType': 'MEAL', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'BEVERAGE', 'isChargeable': False, 'amenityType': 'MEAL', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'SEAT SELECTION', 'isChargeable': True, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'MILEAGE ACCRUAL', 'isChargeable': False, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'UPGRADE ELIGIBILITY', 'isChargeable': True, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}]}]}]}], 'dictionaries': {'locations': {'CDG': {'cityCode': 'PAR', 'countryCode': 'FR'}, 'LHR': {'cityCode': 'LON', 'countryCode': 'GB'}}, 'aircraft': {'223': 'AIRBUS  A220-300'}, 'currencies': {'GBP': 'POUND STERLING'}, 'carriers': {'AF': 'AIR FRANCE'}}},
        #     {'meta': {'count': 2, 'links': {'self': 'https://test.api.amadeus.com/v2/shopping/flight-offers?originLocationCode=LON&destinationLocationCode=FRA&departureDate=2025-04-06&returnDate=2025-05-05&adults=1&nonStop=true&currencyCode=GBP&max=2'}}, 'data': [{'type': 'flight-offer', 'id': '1', 'source': 'GDS', 'instantTicketingRequired': False, 'nonHomogeneous': False, 'oneWay': False, 'isUpsellOffer': False, 'lastTicketingDate': '2025-04-06', 'lastTicketingDateTime': '2025-04-06', 'numberOfBookableSeats': 9, 'itineraries': [{'duration': 'PT1H35M', 'segments': [{'departure': {'iataCode': 'LHR', 'terminal': '2', 'at': '2025-04-06T13:30:00'}, 'arrival': {'iataCode': 'FRA', 'terminal': '1', 'at': '2025-04-06T16:05:00'}, 'carrierCode': 'LH', 'number': '907', 'aircraft': {'code': '32N'}, 'operating': {'carrierCode': 'LH'}, 'duration': 'PT1H35M', 'id': '1', 'numberOfStops': 0, 'blacklistedInEU': False}]}, {'duration': 'PT1H40M', 'segments': [{'departure': {'iataCode': 'FRA', 'terminal': '1', 'at': '2025-05-05T07:00:00'}, 'arrival': {'iataCode': 'LHR', 'terminal': '2', 'at': '2025-05-05T07:40:00'}, 'carrierCode': 'LH', 'number': '924', 'aircraft': {'code': '32N'}, 'operating': {'carrierCode': 'LH'}, 'duration': 'PT1H40M', 'id': '3', 'numberOfStops': 0, 'blacklistedInEU': False}]}], 'price': {'currency': 'GBP', 'total': '287.82', 'base': '147.00', 'fees': [{'amount': '0.00', 'type': 'SUPPLIER'}, {'amount': '0.00', 'type': 'TICKETING'}], 'grandTotal': '287.82', 'additionalServices': [{'amount': '58.40', 'type': 'CHECKED_BAGS'}]}, 'pricingOptions': {'fareType': ['PUBLISHED'], 'includedCheckedBagsOnly': True}, 'validatingAirlineCodes': ['LH'], 'travelerPricings': [{'travelerId': '1', 'fareOption': 'STANDARD', 'travelerType': 'ADULT', 'price': {'currency': 'GBP', 'total': '287.82', 'base': '147.00'}, 'fareDetailsBySegment': [{'segmentId': '1', 'cabin': 'ECONOMY', 'fareBasis': 'VEUCLSP0', 'brandedFare': 'CLASSIC', 'brandedFareLabel': 'CLASSIC', 'class': 'V', 'includedCheckedBags': {'quantity': 1}, 'includedCabinBags': {'quantity': 1}, 'amenities': [{'description': 'CATERING ON EUROPE FLTS', 'isChargeable': True, 'amenityType': 'MEAL', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'STANDARD SEAT RESERVATION', 'isChargeable': False, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'MILEAGE ACCRUAL', 'isChargeable': False, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'UPGRADE ELIGIBILITY', 'isChargeable': True, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'PREFERRED SEAT RESERVATION', 'isChargeable': True, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'CHANGE BEFORE DEPARTURE', 'isChargeable': True, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'CHANGE AFTER DEPARTURE', 'isChargeable': True, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}]}, {'segmentId': '3', 'cabin': 'ECONOMY', 'fareBasis': 'KEUCLSP2', 'brandedFare': 'CLASSIC', 'brandedFareLabel': 'CLASSIC', 'class': 'K', 'includedCheckedBags': {'quantity': 1}, 'includedCabinBags': {'quantity': 1}, 'amenities': [{'description': 'CATERING ON EUROPE FLTS', 'isChargeable': True, 'amenityType': 'MEAL', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'STANDARD SEAT RESERVATION', 'isChargeable': False, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'MILEAGE ACCRUAL', 'isChargeable': False, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'UPGRADE ELIGIBILITY', 'isChargeable': True, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'PREFERRED SEAT RESERVATION', 'isChargeable': True, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'CHANGE BEFORE DEPARTURE', 'isChargeable': True, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'CHANGE AFTER DEPARTURE', 'isChargeable': True, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}]}]}]}, {'type': 'flight-offer', 'id': '2', 'source': 'GDS', 'instantTicketingRequired': False, 'nonHomogeneous': False, 'oneWay': False, 'isUpsellOffer': False, 'lastTicketingDate': '2025-04-06', 'lastTicketingDateTime': '2025-04-06', 'numberOfBookableSeats': 9, 'itineraries': [{'duration': 'PT1H35M', 'segments': [{'departure': {'iataCode': 'LHR', 'terminal': '2', 'at': '2025-04-06T15:30:00'}, 'arrival': {'iataCode': 'FRA', 'terminal': '1', 'at': '2025-04-06T18:05:00'}, 'carrierCode': 'LH', 'number': '909', 'aircraft': {'code': '32N'}, 'operating': {'carrierCode': 'LH'}, 'duration': 'PT1H35M', 'id': '2', 'numberOfStops': 0, 'blacklistedInEU': False}]}, {'duration': 'PT1H40M', 'segments': [{'departure': {'iataCode': 'FRA', 'terminal': '1', 'at': '2025-05-05T07:00:00'}, 'arrival': {'iataCode': 'LHR', 'terminal': '2', 'at': '2025-05-05T07:40:00'}, 'carrierCode': 'LH', 'number': '924', 'aircraft': {'code': '32N'}, 'operating': {'carrierCode': 'LH'}, 'duration': 'PT1H40M', 'id': '3', 'numberOfStops': 0, 'blacklistedInEU': False}]}], 'price': {'currency': 'GBP', 'total': '287.82', 'base': '147.00', 'fees': [{'amount': '0.00', 'type': 'SUPPLIER'}, {'amount': '0.00', 'type': 'TICKETING'}], 'grandTotal': '287.82', 'additionalServices': [{'amount': '58.40', 'type': 'CHECKED_BAGS'}]}, 'pricingOptions': {'fareType': ['PUBLISHED'], 'includedCheckedBagsOnly': True}, 'validatingAirlineCodes': ['LH'], 'travelerPricings': [{'travelerId': '1', 'fareOption': 'STANDARD', 'travelerType': 'ADULT', 'price': {'currency': 'GBP', 'total': '287.82', 'base': '147.00'}, 'fareDetailsBySegment': [{'segmentId': '2', 'cabin': 'ECONOMY', 'fareBasis': 'VEUCLSP0', 'brandedFare': 'CLASSIC', 'brandedFareLabel': 'CLASSIC', 'class': 'V', 'includedCheckedBags': {'quantity': 1}, 'includedCabinBags': {'quantity': 1}, 'amenities': [{'description': 'CATERING ON EUROPE FLTS', 'isChargeable': True, 'amenityType': 'MEAL', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'STANDARD SEAT RESERVATION', 'isChargeable': False, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'MILEAGE ACCRUAL', 'isChargeable': False, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'UPGRADE ELIGIBILITY', 'isChargeable': True, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'PREFERRED SEAT RESERVATION', 'isChargeable': True, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'CHANGE BEFORE DEPARTURE', 'isChargeable': True, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'CHANGE AFTER DEPARTURE', 'isChargeable': True, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}]}, {'segmentId': '3', 'cabin': 'ECONOMY', 'fareBasis': 'KEUCLSP2', 'brandedFare': 'CLASSIC', 'brandedFareLabel': 'CLASSIC', 'class': 'K', 'includedCheckedBags': {'quantity': 1}, 'includedCabinBags': {'quantity': 1}, 'amenities': [{'description': 'CATERING ON EUROPE FLTS', 'isChargeable': True, 'amenityType': 'MEAL', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'STANDARD SEAT RESERVATION', 'isChargeable': False, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'MILEAGE ACCRUAL', 'isChargeable': False, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'UPGRADE ELIGIBILITY', 'isChargeable': True, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'PREFERRED SEAT RESERVATION', 'isChargeable': True, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'CHANGE BEFORE DEPARTURE', 'isChargeable': True, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'CHANGE AFTER DEPARTURE', 'isChargeable': True, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}]}]}]}], 'dictionaries': {'locations': {'FRA': {'cityCode': 'FRA', 'countryCode': 'DE'}, 'LHR': {'cityCode': 'LON', 'countryCode': 'GB'}}, 'aircraft': {'32N': 'AIRBUS A320NEO'}, 'currencies': {'GBP': 'POUND STERLING'}, 'carriers': {'LH': 'LUFTHANSA'}}},
        #     {'meta': {'count': 2, 'links': {'self': 'https://test.api.amadeus.com/v2/shopping/flight-offers?originLocationCode=LON&destinationLocationCode=TYO&departureDate=2025-04-06&returnDate=2025-05-05&adults=1&nonStop=true&currencyCode=GBP&max=2'}}, 'data': [{'type': 'flight-offer', 'id': '1', 'source': 'GDS', 'instantTicketingRequired': False, 'nonHomogeneous': False, 'oneWay': False, 'isUpsellOffer': False, 'lastTicketingDate': '2025-04-06', 'lastTicketingDateTime': '2025-04-06', 'numberOfBookableSeats': 7, 'itineraries': [{'duration': 'PT14H15M', 'segments': [{'departure': {'iataCode': 'LHR', 'terminal': '2', 'at': '2025-04-06T19:00:00'}, 'arrival': {'iataCode': 'HND', 'terminal': '0', 'at': '2025-04-07T17:15:00'}, 'carrierCode': 'NH', 'number': '212', 'aircraft': {'code': '77W'}, 'operating': {'carrierCode': 'NH'}, 'duration': 'PT14H15M', 'id': '1', 'numberOfStops': 0, 'blacklistedInEU': False}]}, {'duration': 'PT14H25M', 'segments': [{'departure': {'iataCode': 'HND', 'terminal': '0', 'at': '2025-05-05T09:55:00'}, 'arrival': {'iataCode': 'LHR', 'terminal': '2', 'at': '2025-05-05T16:20:00'}, 'carrierCode': 'NH', 'number': '211', 'aircraft': {'code': '77W'}, 'operating': {'carrierCode': 'NH'}, 'duration': 'PT14H25M', 'id': '4', 'numberOfStops': 0, 'blacklistedInEU': False}]}], 'price': {'currency': 'GBP', 'total': '1245.52', 'base': '772.00', 'fees': [{'amount': '0.00', 'type': 'SUPPLIER'}, {'amount': '0.00', 'type': 'TICKETING'}], 'grandTotal': '1245.52'}, 'pricingOptions': {'fareType': ['PUBLISHED'], 'includedCheckedBagsOnly': True}, 'validatingAirlineCodes': ['NH'], 'travelerPricings': [{'travelerId': '1', 'fareOption': 'STANDARD', 'travelerType': 'ADULT', 'price': {'currency': 'GBP', 'total': '1245.52', 'base': '772.00'}, 'fareDetailsBySegment': [{'segmentId': '1', 'cabin': 'ECONOMY', 'fareBasis': 'VLNCJGB', 'brandedFare': 'ECOVAL1', 'brandedFareLabel': 'ECO I VALUE 1C', 'class': 'V', 'includedCheckedBags': {'quantity': 1}, 'includedCabinBags': {'quantity': 1}, 'amenities': [{'description': 'CHECKED BAG 1 PC 23 KG EACH', 'isChargeable': False, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'PRE SEAT ASSIGNMENT', 'isChargeable': True, 'amenityType': 'PRE_RESERVED_SEAT', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'CHANGE BEFORE DEPARTURE', 'isChargeable': True, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'CHANGE AFTER DEPARTURE', 'isChargeable': True, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}]}, {'segmentId': '4', 'cabin': 'ECONOMY', 'fareBasis': 'LLNCJGB', 'brandedFare': 'ECOVAL1', 'brandedFareLabel': 'ECO I VALUE 1C', 'class': 'L', 'includedCheckedBags': {'quantity': 1}, 'includedCabinBags': {'quantity': 1}, 'amenities': [{'description': 'CHECKED BAG 1 PC 23 KG EACH', 'isChargeable': False, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'PRE SEAT ASSIGNMENT', 'isChargeable': True, 'amenityType': 'PRE_RESERVED_SEAT', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'CHANGE BEFORE DEPARTURE', 'isChargeable': True, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'CHANGE AFTER DEPARTURE', 'isChargeable': True, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}]}]}]}, {'type': 'flight-offer', 'id': '2', 'source': 'GDS', 'instantTicketingRequired': False, 'nonHomogeneous': False, 'oneWay': False, 'isUpsellOffer': False, 'lastTicketingDate': '2025-04-06', 'lastTicketingDateTime': '2025-04-06', 'numberOfBookableSeats': 6, 'itineraries': [{'duration': 'PT13H40M', 'segments': [{'departure': {'iataCode': 'LHR', 'terminal': '5', 'at': '2025-04-06T09:20:00'}, 'arrival': {'iataCode': 'HND', 'terminal': '3', 'at': '2025-04-07T07:00:00'}, 'carrierCode': 'JL', 'number': '7082', 'aircraft': {'code': '351'}, 'operating': {'carrierCode': 'BA'}, 'duration': 'PT13H40M', 'id': '2', 'numberOfStops': 0, 'blacklistedInEU': False}]}, {'duration': 'PT14H5M', 'segments': [{'departure': {'iataCode': 'HND', 'terminal': '3', 'at': '2025-05-05T00:20:00'}, 'arrival': {'iataCode': 'LHR', 'terminal': '3', 'at': '2025-05-05T06:25:00'}, 'carrierCode': 'JL', 'number': '41', 'aircraft': {'code': '788'}, 'operating': {'carrierCode': 'JL'}, 'duration': 'PT14H5M', 'id': '3', 'numberOfStops': 0, 'blacklistedInEU': False}]}], 'price': {'currency': 'GBP', 'total': '1273.72', 'base': '794.00', 'fees': [{'amount': '0.00', 'type': 'SUPPLIER'}, {'amount': '0.00', 'type': 'TICKETING'}], 'grandTotal': '1273.72'}, 'pricingOptions': {'fareType': ['PUBLISHED'], 'includedCheckedBagsOnly': True}, 'validatingAirlineCodes': ['JL'], 'travelerPricings': [{'travelerId': '1', 'fareOption': 'STANDARD', 'travelerType': 'ADULT', 'price': {'currency': 'GBP', 'total': '1273.72', 'base': '794.00'}, 'fareDetailsBySegment': [{'segmentId': '2', 'cabin': 'ECONOMY', 'fareBasis': 'OPN0A1M8', 'class': 'O', 'includedCheckedBags': {'quantity': 2}, 'includedCabinBags': {'quantity': 2}}, {'segmentId': '3', 'cabin': 'ECONOMY', 'fareBasis': 'OLN0A1M8', 'class': 'O', 'includedCheckedBags': {'quantity': 2}, 'includedCabinBags': {'quantity': 1}}]}]}], 'dictionaries': {'locations': {'LHR': {'cityCode': 'LON', 'countryCode': 'GB'}, 'HND': {'cityCode': 'TYO', 'countryCode': 'JP'}}, 'aircraft': {'77W': 'BOEING 777-300ER', '788': 'BOEING 787-8', '351': 'AIRBUS A350-1000'}, 'currencies': {'GBP': 'POUND STERLING'}, 'carriers': {'JL': 'JAPAN AIRLINES', 'NH': 'ALL NIPPON AIRWAYS', 'BA': 'BRITISH AIRWAYS'}}},
        #     {'meta': {'count': 2, 'links': {'self': 'https://test.api.amadeus.com/v2/shopping/flight-offers?originLocationCode=LON&destinationLocationCode=HKG&departureDate=2025-04-06&returnDate=2025-05-05&adults=1&nonStop=true&currencyCode=GBP&max=2'}}, 'data': [{'type': 'flight-offer', 'id': '1', 'source': 'GDS', 'instantTicketingRequired': False, 'nonHomogeneous': False, 'oneWay': False, 'isUpsellOffer': False, 'lastTicketingDate': '2025-04-06', 'lastTicketingDateTime': '2025-04-06', 'numberOfBookableSeats': 9, 'itineraries': [{'duration': 'PT12H35M', 'segments': [{'departure': {'iataCode': 'LHR', 'terminal': '3', 'at': '2025-04-06T12:20:00'}, 'arrival': {'iataCode': 'HKG', 'terminal': '1', 'at': '2025-04-07T07:55:00'}, 'carrierCode': 'CX', 'number': '252', 'aircraft': {'code': '77W'}, 'operating': {'carrierCode': 'CX'}, 'duration': 'PT12H35M', 'id': '1', 'numberOfStops': 0, 'blacklistedInEU': False}]}, {'duration': 'PT14H', 'segments': [{'departure': {'iataCode': 'HKG', 'terminal': '1', 'at': '2025-05-05T22:40:00'}, 'arrival': {'iataCode': 'LHR', 'terminal': '3', 'at': '2025-05-06T05:40:00'}, 'carrierCode': 'CX', 'number': '251', 'aircraft': {'code': '77W'}, 'operating': {'carrierCode': 'CX'}, 'duration': 'PT14H', 'id': '3', 'numberOfStops': 0, 'blacklistedInEU': False}]}], 'price': {'currency': 'GBP', 'total': '899.62', 'base': '577.00', 'fees': [{'amount': '0.00', 'type': 'SUPPLIER'}, {'amount': '0.00', 'type': 'TICKETING'}], 'grandTotal': '899.62'}, 'pricingOptions': {'fareType': ['PUBLISHED'], 'includedCheckedBagsOnly': True}, 'validatingAirlineCodes': ['CX'], 'travelerPricings': [{'travelerId': '1', 'fareOption': 'STANDARD', 'travelerType': 'ADULT', 'price': {'currency': 'GBP', 'total': '899.62', 'base': '577.00'}, 'fareDetailsBySegment': [{'segmentId': '1', 'cabin': 'ECONOMY', 'fareBasis': 'KR21GBHR', 'brandedFare': 'ECONLIGHT', 'brandedFareLabel': 'ECONOMY LIGHT', 'class': 'K', 'includedCheckedBags': {'quantity': 1}, 'includedCabinBags': {'quantity': 1}, 'amenities': [{'description': '1PC MAX 23KG 158LCM EACH', 'isChargeable': False, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': '1PC MAX 15LB 7KG 115LCM', 'isChargeable': False, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'SEAT ASSIGNMENT', 'isChargeable': True, 'amenityType': 'PRE_RESERVED_SEAT', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'REFUNDABLE TICKET', 'isChargeable': True, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'MILEAGE ACCRUAL', 'isChargeable': False, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'CHANGEABLE TICKET', 'isChargeable': True, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}]}, {'segmentId': '3', 'cabin': 'ECONOMY', 'fareBasis': 'QL21GBAR', 'brandedFare': 'ECONLIGHT', 'brandedFareLabel': 'ECONOMY LIGHT', 'class': 'Q', 'includedCheckedBags': {'quantity': 1}, 'includedCabinBags': {'quantity': 1}, 'amenities': [{'description': '1PC MAX 23KG 158LCM EACH', 'isChargeable': False, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': '1PC MAX 15LB 7KG 115LCM', 'isChargeable': False, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'SEAT ASSIGNMENT', 'isChargeable': True, 'amenityType': 'PRE_RESERVED_SEAT', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'REFUNDABLE TICKET', 'isChargeable': True, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'MILEAGE ACCRUAL', 'isChargeable': False, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'CHANGEABLE TICKET', 'isChargeable': True, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}]}]}]}, {'type': 'flight-offer', 'id': '2', 'source': 'GDS', 'instantTicketingRequired': False, 'nonHomogeneous': False, 'oneWay': False, 'isUpsellOffer': False, 'lastTicketingDate': '2025-04-06', 'lastTicketingDateTime': '2025-04-06', 'numberOfBookableSeats': 9, 'itineraries': [{'duration': 'PT12H35M', 'segments': [{'departure': {'iataCode': 'LHR', 'terminal': '3', 'at': '2025-04-06T17:00:00'}, 'arrival': {'iataCode': 'HKG', 'terminal': '1', 'at': '2025-04-07T12:35:00'}, 'carrierCode': 'CX', 'number': '238', 'aircraft': {'code': '359'}, 'operating': {'carrierCode': 'CX'}, 'duration': 'PT12H35M', 'id': '2', 'numberOfStops': 0, 'blacklistedInEU': False}]}, {'duration': 'PT14H', 'segments': [{'departure': {'iataCode': 'HKG', 'terminal': '1', 'at': '2025-05-05T22:40:00'}, 'arrival': {'iataCode': 'LHR', 'terminal': '3', 'at': '2025-05-06T05:40:00'}, 'carrierCode': 'CX', 'number': '251', 'aircraft': {'code': '77W'}, 'operating': {'carrierCode': 'CX'}, 'duration': 'PT14H', 'id': '3', 'numberOfStops': 0, 'blacklistedInEU': False}]}], 'price': {'currency': 'GBP', 'total': '899.62', 'base': '577.00', 'fees': [{'amount': '0.00', 'type': 'SUPPLIER'}, {'amount': '0.00', 'type': 'TICKETING'}], 'grandTotal': '899.62'}, 'pricingOptions': {'fareType': ['PUBLISHED'], 'includedCheckedBagsOnly': True}, 'validatingAirlineCodes': ['CX'], 'travelerPricings': [{'travelerId': '1', 'fareOption': 'STANDARD', 'travelerType': 'ADULT', 'price': {'currency': 'GBP', 'total': '899.62', 'base': '577.00'}, 'fareDetailsBySegment': [{'segmentId': '2', 'cabin': 'ECONOMY', 'fareBasis': 'KR21GBHR', 'brandedFare': 'ECONLIGHT', 'brandedFareLabel': 'ECONOMY LIGHT', 'class': 'K', 'includedCheckedBags': {'quantity': 1}, 'includedCabinBags': {'quantity': 1}, 'amenities': [{'description': '1PC MAX 23KG 158LCM EACH', 'isChargeable': False, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': '1PC MAX 15LB 7KG 115LCM', 'isChargeable': False, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'SEAT ASSIGNMENT', 'isChargeable': True, 'amenityType': 'PRE_RESERVED_SEAT', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'REFUNDABLE TICKET', 'isChargeable': True, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'MILEAGE ACCRUAL', 'isChargeable': False, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'CHANGEABLE TICKET', 'isChargeable': True, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}]}, {'segmentId': '3', 'cabin': 'ECONOMY', 'fareBasis': 'QL21GBAR', 'brandedFare': 'ECONLIGHT', 'brandedFareLabel': 'ECONOMY LIGHT', 'class': 'Q', 'includedCheckedBags': {'quantity': 1}, 'includedCabinBags': {'quantity': 1}, 'amenities': [{'description': '1PC MAX 23KG 158LCM EACH', 'isChargeable': False, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': '1PC MAX 15LB 7KG 115LCM', 'isChargeable': False, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'SEAT ASSIGNMENT', 'isChargeable': True, 'amenityType': 'PRE_RESERVED_SEAT', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'REFUNDABLE TICKET', 'isChargeable': True, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'MILEAGE ACCRUAL', 'isChargeable': False, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'CHANGEABLE TICKET', 'isChargeable': True, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}]}]}]}], 'dictionaries': {'locations': {'HKG': {'cityCode': 'HKG', 'countryCode': 'HK'}, 'LHR': {'cityCode': 'LON', 'countryCode': 'GB'}}, 'aircraft': {'77W': 'BOEING 777-300ER', '359': 'AIRBUS A350-900'}, 'currencies': {'GBP': 'POUND STERLING'}, 'carriers': {'CX': 'CATHAY PACIFIC'}}},
        #     {'meta': {'count': 2, 'links': {'self': 'https://test.api.amadeus.com/v2/shopping/flight-offers?originLocationCode=LON&destinationLocationCode=IST&departureDate=2025-04-06&returnDate=2025-05-05&adults=1&nonStop=true&currencyCode=GBP&max=2'}}, 'data': [{'type': 'flight-offer', 'id': '1', 'source': 'GDS', 'instantTicketingRequired': False, 'nonHomogeneous': False, 'oneWay': False, 'isUpsellOffer': False, 'lastTicketingDate': '2025-04-06', 'lastTicketingDateTime': '2025-04-06', 'numberOfBookableSeats': 9, 'itineraries': [{'duration': 'PT3H55M', 'segments': [{'departure': {'iataCode': 'STN', 'at': '2025-04-06T11:50:00'}, 'arrival': {'iataCode': 'SAW', 'at': '2025-04-06T17:45:00'}, 'carrierCode': 'VF', 'number': '1988', 'aircraft': {'code': '73H'}, 'operating': {'carrierCode': 'VF'}, 'duration': 'PT3H55M', 'id': '1', 'numberOfStops': 0, 'blacklistedInEU': False}]}, {'duration': 'PT4H5M', 'segments': [{'departure': {'iataCode': 'SAW', 'at': '2025-05-05T08:45:00'}, 'arrival': {'iataCode': 'STN', 'at': '2025-05-05T10:50:00'}, 'carrierCode': 'VF', 'number': '1987', 'aircraft': {'code': '73H'}, 'operating': {'carrierCode': 'VF'}, 'duration': 'PT4H5M', 'id': '2', 'numberOfStops': 0, 'blacklistedInEU': False}]}], 'price': {'currency': 'GBP', 'total': '154.06', 'base': '45.00', 'fees': [{'amount': '0.00', 'type': 'SUPPLIER'}, {'amount': '0.00', 'type': 'TICKETING'}], 'grandTotal': '154.06'}, 'pricingOptions': {'fareType': ['PUBLISHED'], 'includedCheckedBagsOnly': False}, 'validatingAirlineCodes': ['VF'], 'travelerPricings': [{'travelerId': '1', 'fareOption': 'STANDARD', 'travelerType': 'ADULT', 'price': {'currency': 'GBP', 'total': '154.06', 'base': '45.00'}, 'fareDetailsBySegment': [{'segmentId': '1', 'cabin': 'ECONOMY', 'fareBasis': 'UHYSAJRR', 'brandedFare': 'BSC', 'brandedFareLabel': 'BASIC', 'class': 'U', 'includedCheckedBags': {'weight': 0, 'weightUnit': 'KG'}, 'amenities': [{'description': 'FREE CABIN BAGGAGE 8KG', 'isChargeable': False, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}]}, {'segmentId': '2', 'cabin': 'ECONOMY', 'fareBasis': 'UY8SAJRR', 'brandedFare': 'BSC', 'brandedFareLabel': 'BASIC', 'class': 'U', 'includedCheckedBags': {'weight': 0, 'weightUnit': 'KG'}, 'amenities': [{'description': 'FREE CABIN BAGGAGE 8KG', 'isChargeable': False, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}]}]}]}, {'type': 'flight-offer', 'id': '2', 'source': 'GDS', 'instantTicketingRequired': False, 'nonHomogeneous': False, 'oneWay': False, 'isUpsellOffer': False, 'lastTicketingDate': '2025-04-06', 'lastTicketingDateTime': '2025-04-06', 'numberOfBookableSeats': 9, 'itineraries': [{'duration': 'PT3H55M', 'segments': [{'departure': {'iataCode': 'STN', 'at': '2025-04-06T11:50:00'}, 'arrival': {'iataCode': 'SAW', 'at': '2025-04-06T17:45:00'}, 'carrierCode': 'VF', 'number': '1988', 'aircraft': {'code': '73H'}, 'operating': {'carrierCode': 'VF'}, 'duration': 'PT3H55M', 'id': '1', 'numberOfStops': 0, 'blacklistedInEU': False}]}, {'duration': 'PT4H5M', 'segments': [{'departure': {'iataCode': 'SAW', 'at': '2025-05-05T12:35:00'}, 'arrival': {'iataCode': 'STN', 'at': '2025-05-05T14:40:00'}, 'carrierCode': 'VF', 'number': '1989', 'aircraft': {'code': '73H'}, 'operating': {'carrierCode': 'VF'}, 'duration': 'PT4H5M', 'id': '3', 'numberOfStops': 0, 'blacklistedInEU': False}]}], 'price': {'currency': 'GBP', 'total': '154.06', 'base': '45.00', 'fees': [{'amount': '0.00', 'type': 'SUPPLIER'}, {'amount': '0.00', 'type': 'TICKETING'}], 'grandTotal': '154.06'}, 'pricingOptions': {'fareType': ['PUBLISHED'], 'includedCheckedBagsOnly': False}, 'validatingAirlineCodes': ['VF'], 'travelerPricings': [{'travelerId': '1', 'fareOption': 'STANDARD', 'travelerType': 'ADULT', 'price': {'currency': 'GBP', 'total': '154.06', 'base': '45.00'}, 'fareDetailsBySegment': [{'segmentId': '1', 'cabin': 'ECONOMY', 'fareBasis': 'UHYSAJRR', 'brandedFare': 'BSC', 'brandedFareLabel': 'BASIC', 'class': 'U', 'includedCheckedBags': {'weight': 0, 'weightUnit': 'KG'}, 'amenities': [{'description': 'FREE CABIN BAGGAGE 8KG', 'isChargeable': False, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}]}, {'segmentId': '3', 'cabin': 'ECONOMY', 'fareBasis': 'UY8SAJRR', 'brandedFare': 'BSC', 'brandedFareLabel': 'BASIC', 'class': 'U', 'includedCheckedBags': {'weight': 0, 'weightUnit': 'KG'}, 'amenities': [{'description': 'FREE CABIN BAGGAGE 8KG', 'isChargeable': False, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}]}]}]}], 'dictionaries': {'locations': {'SAW': {'cityCode': 'IST', 'countryCode': 'TR'}, 'STN': {'cityCode': 'LON', 'countryCode': 'GB'}}, 'aircraft': {'73H': 'BOEING 737-800 (WINGLETS)'}, 'currencies': {'GBP': 'POUND STERLING'}, 'carriers': {'VF': 'VALUAIR'}}},
        #     {'meta': {'count': 2, 'links': {'self': 'https://test.api.amadeus.com/v2/shopping/flight-offers?originLocationCode=LON&destinationLocationCode=KUL&departureDate=2025-04-06&returnDate=2025-05-05&adults=1&nonStop=true&currencyCode=GBP&max=2'}}, 'data': [{'type': 'flight-offer', 'id': '1', 'source': 'GDS', 'instantTicketingRequired': False, 'nonHomogeneous': False, 'oneWay': False, 'isUpsellOffer': False, 'lastTicketingDate': '2025-04-06', 'lastTicketingDateTime': '2025-04-06', 'numberOfBookableSeats': 9, 'itineraries': [{'duration': 'PT13H15M', 'segments': [{'departure': {'iataCode': 'LHR', 'terminal': '4', 'at': '2025-04-06T21:35:00'}, 'arrival': {'iataCode': 'KUL', 'terminal': '1', 'at': '2025-04-07T17:50:00'}, 'carrierCode': 'MH', 'number': '1', 'aircraft': {'code': '359'}, 'operating': {'carrierCode': 'MH'}, 'duration': 'PT13H15M', 'id': '1', 'numberOfStops': 0, 'blacklistedInEU': False}]}, {'duration': 'PT13H45M', 'segments': [{'departure': {'iataCode': 'KUL', 'terminal': '1', 'at': '2025-05-05T09:50:00'}, 'arrival': {'iataCode': 'LHR', 'terminal': '4', 'at': '2025-05-05T16:35:00'}, 'carrierCode': 'MH', 'number': '4', 'aircraft': {'code': '359'}, 'operating': {'carrierCode': 'MH'}, 'duration': 'PT13H45M', 'id': '3', 'numberOfStops': 0, 'blacklistedInEU': False}]}], 'price': {'currency': 'GBP', 'total': '823.32', 'base': '441.00', 'fees': [{'amount': '0.00', 'type': 'SUPPLIER'}, {'amount': '0.00', 'type': 'TICKETING'}], 'grandTotal': '823.32'}, 'pricingOptions': {'fareType': ['PUBLISHED'], 'includedCheckedBagsOnly': True}, 'validatingAirlineCodes': ['MH'], 'travelerPricings': [{'travelerId': '1', 'fareOption': 'STANDARD', 'travelerType': 'ADULT', 'price': {'currency': 'GBP', 'total': '823.32', 'base': '441.00'}, 'fareDetailsBySegment': [{'segmentId': '1', 'cabin': 'ECONOMY', 'fareBasis': 'VBX1YGB', 'brandedFare': 'BASIC', 'brandedFareLabel': 'BASIC', 'class': 'V', 'includedCheckedBags': {'weight': 20, 'weightUnit': 'KG'}, 'includedCabinBags': {'quantity': 1}, 'amenities': [{'description': 'PRE RESERVED SEAT ASSIGNMENT', 'isChargeable': True, 'amenityType': 'PRE_RESERVED_SEAT', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'SNACK', 'isChargeable': False, 'amenityType': 'MEAL', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'CHILD DISCOUNT', 'isChargeable': False, 'amenityType': 'TRAVEL_SERVICES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'INFANT DISCOUNT', 'isChargeable': False, 'amenityType': 'TRAVEL_SERVICES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'CHANGE BEFORE DEPARTURE', 'isChargeable': True, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'CHANGE AFTER DEPARTURE', 'isChargeable': True, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'REFUND BEFORE DEPARTURE', 'isChargeable': True, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}]}, {'segmentId': '3', 'cabin': 'ECONOMY', 'fareBasis': 'OLTBX2GB', 'brandedFare': 'BASIC', 'brandedFareLabel': 'BASIC', 'class': 'O', 'includedCheckedBags': {'weight': 20, 'weightUnit': 'KG'}, 'includedCabinBags': {'quantity': 1}, 'amenities': [{'description': 'PRE RESERVED SEAT ASSIGNMENT', 'isChargeable': True, 'amenityType': 'PRE_RESERVED_SEAT', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'SNACK', 'isChargeable': False, 'amenityType': 'MEAL', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'CHILD DISCOUNT', 'isChargeable': False, 'amenityType': 'TRAVEL_SERVICES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'INFANT DISCOUNT', 'isChargeable': False, 'amenityType': 'TRAVEL_SERVICES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'CHANGE BEFORE DEPARTURE', 'isChargeable': True, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'CHANGE AFTER DEPARTURE', 'isChargeable': True, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'REFUND BEFORE DEPARTURE', 'isChargeable': True, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}]}]}]}, {'type': 'flight-offer', 'id': '2', 'source': 'GDS', 'instantTicketingRequired': False, 'nonHomogeneous': False, 'oneWay': False, 'isUpsellOffer': False, 'lastTicketingDate': '2025-04-06', 'lastTicketingDateTime': '2025-04-06', 'numberOfBookableSeats': 9, 'itineraries': [{'duration': 'PT13H15M', 'segments': [{'departure': {'iataCode': 'LHR', 'terminal': '4', 'at': '2025-04-06T21:35:00'}, 'arrival': {'iataCode': 'KUL', 'terminal': '1', 'at': '2025-04-07T17:50:00'}, 'carrierCode': 'MH', 'number': '1', 'aircraft': {'code': '359'}, 'operating': {'carrierCode': 'MH'}, 'duration': 'PT13H15M', 'id': '1', 'numberOfStops': 0, 'blacklistedInEU': False}]}, {'duration': 'PT13H25M', 'segments': [{'departure': {'iataCode': 'KUL', 'terminal': '1', 'at': '2025-05-05T23:30:00'}, 'arrival': {'iataCode': 'LHR', 'terminal': '4', 'at': '2025-05-06T05:55:00'}, 'carrierCode': 'MH', 'number': '2', 'aircraft': {'code': '359'}, 'operating': {'carrierCode': 'MH'}, 'duration': 'PT13H25M', 'id': '2', 'numberOfStops': 0, 'blacklistedInEU': False}]}], 'price': {'currency': 'GBP', 'total': '860.32', 'base': '478.00', 'fees': [{'amount': '0.00', 'type': 'SUPPLIER'}, {'amount': '0.00', 'type': 'TICKETING'}], 'grandTotal': '860.32'}, 'pricingOptions': {'fareType': ['PUBLISHED'], 'includedCheckedBagsOnly': True}, 'validatingAirlineCodes': ['MH'], 'travelerPricings': [{'travelerId': '1', 'fareOption': 'STANDARD', 'travelerType': 'ADULT', 'price': {'currency': 'GBP', 'total': '860.32', 'base': '478.00'}, 'fareDetailsBySegment': [{'segmentId': '1', 'cabin': 'ECONOMY', 'fareBasis': 'VBX1YGB', 'brandedFare': 'BASIC', 'brandedFareLabel': 'BASIC', 'class': 'V', 'includedCheckedBags': {'weight': 20, 'weightUnit': 'KG'}, 'includedCabinBags': {'quantity': 1}, 'amenities': [{'description': 'PRE RESERVED SEAT ASSIGNMENT', 'isChargeable': True, 'amenityType': 'PRE_RESERVED_SEAT', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'SNACK', 'isChargeable': False, 'amenityType': 'MEAL', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'CHILD DISCOUNT', 'isChargeable': False, 'amenityType': 'TRAVEL_SERVICES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'INFANT DISCOUNT', 'isChargeable': False, 'amenityType': 'TRAVEL_SERVICES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'CHANGE BEFORE DEPARTURE', 'isChargeable': True, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'CHANGE AFTER DEPARTURE', 'isChargeable': True, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'REFUND BEFORE DEPARTURE', 'isChargeable': True, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}]}, {'segmentId': '2', 'cabin': 'ECONOMY', 'fareBasis': 'QLTBXGB', 'brandedFare': 'BASIC', 'brandedFareLabel': 'BASIC', 'class': 'Q', 'includedCheckedBags': {'weight': 20, 'weightUnit': 'KG'}, 'includedCabinBags': {'quantity': 1}, 'amenities': [{'description': 'PRE RESERVED SEAT ASSIGNMENT', 'isChargeable': True, 'amenityType': 'PRE_RESERVED_SEAT', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'SNACK', 'isChargeable': False, 'amenityType': 'MEAL', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'CHILD DISCOUNT', 'isChargeable': False, 'amenityType': 'TRAVEL_SERVICES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'INFANT DISCOUNT', 'isChargeable': False, 'amenityType': 'TRAVEL_SERVICES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'CHANGE BEFORE DEPARTURE', 'isChargeable': True, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'CHANGE AFTER DEPARTURE', 'isChargeable': True, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'REFUND BEFORE DEPARTURE', 'isChargeable': True, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}]}]}]}], 'dictionaries': {'locations': {'KUL': {'cityCode': 'KUL', 'countryCode': 'MY'}, 'LHR': {'cityCode': 'LON', 'countryCode': 'GB'}}, 'aircraft': {'359': 'AIRBUS A350-900'}, 'currencies': {'GBP': 'POUND STERLING'}, 'carriers': {'MH': 'MALAYSIA AIRLINES'}}},
        #     {'meta': {'count': 2, 'links': {'self': 'https://test.api.amadeus.com/v2/shopping/flight-offers?originLocationCode=LON&destinationLocationCode=NYC&departureDate=2025-04-06&returnDate=2025-05-05&adults=1&nonStop=true&currencyCode=GBP&max=2'}}, 'data': [{'type': 'flight-offer', 'id': '1', 'source': 'GDS', 'instantTicketingRequired': False, 'nonHomogeneous': False, 'oneWay': False, 'isUpsellOffer': False, 'lastTicketingDate': '2025-04-05', 'lastTicketingDateTime': '2025-04-05', 'numberOfBookableSeats': 9, 'itineraries': [{'duration': 'PT7H50M', 'segments': [{'departure': {'iataCode': 'LGW', 'at': '2025-04-06T13:05:00'}, 'arrival': {'iataCode': 'JFK', 'at': '2025-04-06T15:55:00'}, 'carrierCode': 'A1', 'number': '5951', 'aircraft': {'code': '787'}, 'operating': {'carrierCode': 'Z0'}, 'duration': 'PT7H50M', 'id': '1', 'numberOfStops': 0, 'blacklistedInEU': False}]}, {'duration': 'PT7H', 'segments': [{'departure': {'iataCode': 'JFK', 'at': '2025-05-05T18:20:00'}, 'arrival': {'iataCode': 'LGW', 'at': '2025-05-06T06:20:00'}, 'carrierCode': 'A1', 'number': '5952', 'aircraft': {'code': '787'}, 'operating': {'carrierCode': 'Z0'}, 'duration': 'PT7H', 'id': '3', 'numberOfStops': 0, 'blacklistedInEU': False}]}], 'price': {'currency': 'GBP', 'total': '411.98', 'base': '185.00', 'fees': [{'amount': '0.00', 'type': 'SUPPLIER'}, {'amount': '0.00', 'type': 'TICKETING'}], 'grandTotal': '411.98'}, 'pricingOptions': {'fareType': ['PUBLISHED'], 'includedCheckedBagsOnly': True}, 'validatingAirlineCodes': ['GP'], 'travelerPricings': [{'travelerId': '1', 'fareOption': 'STANDARD', 'travelerType': 'ADULT', 'price': {'currency': 'GBP', 'total': '411.98', 'base': '185.00'}, 'fareDetailsBySegment': [{'segmentId': '1', 'cabin': 'ECONOMY', 'fareBasis': 'QRTEC', 'class': 'Q', 'includedCheckedBags': {'quantity': 1}}, {'segmentId': '3', 'cabin': 'ECONOMY', 'fareBasis': 'QRTEC', 'class': 'Q', 'includedCheckedBags': {'quantity': 1}}]}]}, {'type': 'flight-offer', 'id': '2', 'source': 'GDS', 'instantTicketingRequired': False, 'nonHomogeneous': False, 'oneWay': False, 'isUpsellOffer': False, 'lastTicketingDate': '2025-04-05', 'lastTicketingDateTime': '2025-04-05', 'numberOfBookableSeats': 7, 'itineraries': [{'duration': 'PT7H53M', 'segments': [{'departure': {'iataCode': 'LHR', 'terminal': '2', 'at': '2025-04-06T08:15:00'}, 'arrival': {'iataCode': 'JFK', 'terminal': '5', 'at': '2025-04-06T11:08:00'}, 'carrierCode': 'B6', 'number': '2220', 'aircraft': {'code': '32Q'}, 'operating': {'carrierCode': 'B6'}, 'duration': 'PT7H53M', 'id': '2', 'numberOfStops': 0, 'blacklistedInEU': False}]}, {'duration': 'PT7H14M', 'segments': [{'departure': {'iataCode': 'JFK', 'terminal': '5', 'at': '2025-05-05T08:31:00'}, 'arrival': {'iataCode': 'LHR', 'terminal': '2', 'at': '2025-05-05T20:45:00'}, 'carrierCode': 'B6', 'number': '1107', 'aircraft': {'code': '32Q'}, 'operating': {'carrierCode': 'B6'}, 'duration': 'PT7H14M', 'id': '4', 'numberOfStops': 0, 'blacklistedInEU': False}]}], 'price': {'currency': 'GBP', 'total': '848.82', 'base': '395.00', 'fees': [{'amount': '0.00', 'type': 'SUPPLIER'}, {'amount': '0.00', 'type': 'TICKETING'}], 'grandTotal': '848.82', 'additionalServices': [{'amount': '110.00', 'type': 'CHECKED_BAGS'}]}, 'pricingOptions': {'fareType': ['PUBLISHED'], 'includedCheckedBagsOnly': False}, 'validatingAirlineCodes': ['B6'], 'travelerPricings': [{'travelerId': '1', 'fareOption': 'STANDARD', 'travelerType': 'ADULT', 'price': {'currency': 'GBP', 'total': '848.82', 'base': '395.00'}, 'fareDetailsBySegment': [{'segmentId': '2', 'cabin': 'ECONOMY', 'fareBasis': 'VH06EWL1', 'brandedFare': 'DN', 'brandedFareLabel': 'BLUE BASIC', 'class': 'L', 'includedCheckedBags': {'quantity': 0}, 'includedCabinBags': {'quantity': 2}, 'amenities': [{'description': 'CHECKED BAG FIRST', 'isChargeable': True, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'CHECKED BAG SECOND', 'isChargeable': True, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'EXTRA LEGROOM', 'isChargeable': True, 'amenityType': 'PRE_RESERVED_SEAT', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'ADVANCE SEAT SELECTION', 'isChargeable': True, 'amenityType': 'PRE_RESERVED_SEAT', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'SNACK', 'isChargeable': False, 'amenityType': 'MEAL', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'ALCOHOLIC DRINK', 'isChargeable': False, 'amenityType': 'MEAL', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'NON ALCOHOLIC DRINK', 'isChargeable': False, 'amenityType': 'MEAL', 'amenityProvider': {'name': 'BrandedFare'}}]}, {'segmentId': '4', 'cabin': 'ECONOMY', 'fareBasis': 'ML06EXL1', 'brandedFare': 'DN', 'brandedFareLabel': 'BLUE BASIC', 'class': 'L', 'includedCheckedBags': {'quantity': 0}, 'includedCabinBags': {'quantity': 2}, 'amenities': [{'description': 'CHECKED BAG FIRST', 'isChargeable': True, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'CHECKED BAG SECOND', 'isChargeable': True, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'EXTRA LEGROOM', 'isChargeable': True, 'amenityType': 'PRE_RESERVED_SEAT', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'ADVANCE SEAT SELECTION', 'isChargeable': True, 'amenityType': 'PRE_RESERVED_SEAT', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'SNACK', 'isChargeable': False, 'amenityType': 'MEAL', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'ALCOHOLIC DRINK', 'isChargeable': False, 'amenityType': 'MEAL', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'NON ALCOHOLIC DRINK', 'isChargeable': False, 'amenityType': 'MEAL', 'amenityProvider': {'name': 'BrandedFare'}}]}]}]}], 'dictionaries': {'locations': {'LHR': {'cityCode': 'LON', 'countryCode': 'GB'}, 'LGW': {'cityCode': 'LON', 'countryCode': 'GB'}, 'JFK': {'cityCode': 'NYC', 'countryCode': 'US'}}, 'aircraft': {'32Q': 'AIRBUS A321NEO', '787': '787  ALL SERIES PASSENGER'}, 'currencies': {'GBP': 'POUND STERLING'}, 'carriers': {'A1': 'G2 SWITCH WORKS', 'B6': 'JETBLUE AIRWAYS', 'Z0': 'NORSE ATLANTIC UK LTD'}}},
        #     {'meta': {'count': 2, 'links': {'self': 'https://test.api.amadeus.com/v2/shopping/flight-offers?originLocationCode=LON&destinationLocationCode=SFO&departureDate=2025-04-06&returnDate=2025-05-05&adults=1&nonStop=true&currencyCode=GBP&max=2'}}, 'data': [{'type': 'flight-offer', 'id': '1', 'source': 'GDS', 'instantTicketingRequired': False, 'nonHomogeneous': False, 'oneWay': False, 'isUpsellOffer': False, 'lastTicketingDate': '2025-04-06', 'lastTicketingDateTime': '2025-04-06', 'numberOfBookableSeats': 2, 'itineraries': [{'duration': 'PT11H5M', 'segments': [{'departure': {'iataCode': 'LHR', 'terminal': '2', 'at': '2025-04-06T10:35:00'}, 'arrival': {'iataCode': 'SFO', 'terminal': 'I', 'at': '2025-04-06T13:40:00'}, 'carrierCode': 'UA', 'number': '900', 'aircraft': {'code': '777'}, 'operating': {'carrierCode': 'UA'}, 'duration': 'PT11H5M', 'id': '1', 'numberOfStops': 0, 'blacklistedInEU': False}]}, {'duration': 'PT10H25M', 'segments': [{'departure': {'iataCode': 'SFO', 'terminal': 'I', 'at': '2025-05-05T19:45:00'}, 'arrival': {'iataCode': 'LHR', 'terminal': '2', 'at': '2025-05-06T14:10:00'}, 'carrierCode': 'UA', 'number': '930', 'aircraft': {'code': '789'}, 'operating': {'carrierCode': 'UA'}, 'duration': 'PT10H25M', 'id': '2', 'numberOfStops': 0, 'blacklistedInEU': False}]}], 'price': {'currency': 'GBP', 'total': '796.82', 'base': '310.00', 'fees': [{'amount': '0.00', 'type': 'SUPPLIER'}, {'amount': '0.00', 'type': 'TICKETING'}], 'grandTotal': '796.82'}, 'pricingOptions': {'fareType': ['PUBLISHED'], 'includedCheckedBagsOnly': False}, 'validatingAirlineCodes': ['UA'], 'travelerPricings': [{'travelerId': '1', 'fareOption': 'STANDARD', 'travelerType': 'ADULT', 'price': {'currency': 'GBP', 'total': '796.82', 'base': '310.00'}, 'fareDetailsBySegment': [{'segmentId': '1', 'cabin': 'ECONOMY', 'fareBasis': 'LHWMB5BQ', 'brandedFare': 'ECOBASIC', 'brandedFareLabel': 'BASIC ECONOMY', 'class': 'L', 'includedCheckedBags': {'quantity': 0}, 'includedCabinBags': {'quantity': 1}, 'amenities': [{'description': 'CHECKED BAG FIRST', 'isChargeable': True, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'SECOND BAG', 'isChargeable': True, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'PRE RESERVED SEAT ASSIGNMENT', 'isChargeable': True, 'amenityType': 'PRE_RESERVED_SEAT', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'PRIORITY BOARDING', 'isChargeable': True, 'amenityType': 'TRAVEL_SERVICES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'MILEAGE ACCRUAL', 'isChargeable': False, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}]}, {'segmentId': '2', 'cabin': 'ECONOMY', 'fareBasis': 'KLXMB5BQ', 'brandedFare': 'ECOBASIC', 'brandedFareLabel': 'BASIC ECONOMY', 'class': 'K', 'includedCheckedBags': {'quantity': 0}, 'includedCabinBags': {'quantity': 1}, 'amenities': [{'description': 'CHECKED BAG FIRST', 'isChargeable': True, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'SECOND BAG', 'isChargeable': True, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'PRE RESERVED SEAT ASSIGNMENT', 'isChargeable': True, 'amenityType': 'PRE_RESERVED_SEAT', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'PRIORITY BOARDING', 'isChargeable': True, 'amenityType': 'TRAVEL_SERVICES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'MILEAGE ACCRUAL', 'isChargeable': False, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}]}]}]}, {'type': 'flight-offer', 'id': '2', 'source': 'GDS', 'instantTicketingRequired': False, 'nonHomogeneous': False, 'oneWay': False, 'isUpsellOffer': False, 'lastTicketingDate': '2025-04-06', 'lastTicketingDateTime': '2025-04-06', 'numberOfBookableSeats': 2, 'itineraries': [{'duration': 'PT11H5M', 'segments': [{'departure': {'iataCode': 'LHR', 'terminal': '2', 'at': '2025-04-06T10:35:00'}, 'arrival': {'iataCode': 'SFO', 'terminal': 'I', 'at': '2025-04-06T13:40:00'}, 'carrierCode': 'UA', 'number': '900', 'aircraft': {'code': '777'}, 'operating': {'carrierCode': 'UA'}, 'duration': 'PT11H5M', 'id': '1', 'numberOfStops': 0, 'blacklistedInEU': False}]}, {'duration': 'PT10H30M', 'segments': [{'departure': {'iataCode': 'SFO', 'terminal': 'I', 'at': '2025-05-05T12:55:00'}, 'arrival': {'iataCode': 'LHR', 'terminal': '2', 'at': '2025-05-06T07:25:00'}, 'carrierCode': 'UA', 'number': '901', 'aircraft': {'code': '777'}, 'operating': {'carrierCode': 'UA'}, 'duration': 'PT10H30M', 'id': '3', 'numberOfStops': 0, 'blacklistedInEU': False}]}], 'price': {'currency': 'GBP', 'total': '796.82', 'base': '310.00', 'fees': [{'amount': '0.00', 'type': 'SUPPLIER'}, {'amount': '0.00', 'type': 'TICKETING'}], 'grandTotal': '796.82'}, 'pricingOptions': {'fareType': ['PUBLISHED'], 'includedCheckedBagsOnly': False}, 'validatingAirlineCodes': ['UA'], 'travelerPricings': [{'travelerId': '1', 'fareOption': 'STANDARD', 'travelerType': 'ADULT', 'price': {'currency': 'GBP', 'total': '796.82', 'base': '310.00'}, 'fareDetailsBySegment': [{'segmentId': '1', 'cabin': 'ECONOMY', 'fareBasis': 'LHWMB5BQ', 'brandedFare': 'ECOBASIC', 'brandedFareLabel': 'BASIC ECONOMY', 'class': 'L', 'includedCheckedBags': {'quantity': 0}, 'includedCabinBags': {'quantity': 1}, 'amenities': [{'description': 'CHECKED BAG FIRST', 'isChargeable': True, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'SECOND BAG', 'isChargeable': True, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'PRE RESERVED SEAT ASSIGNMENT', 'isChargeable': True, 'amenityType': 'PRE_RESERVED_SEAT', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'PRIORITY BOARDING', 'isChargeable': True, 'amenityType': 'TRAVEL_SERVICES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'MILEAGE ACCRUAL', 'isChargeable': False, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}]}, {'segmentId': '3', 'cabin': 'ECONOMY', 'fareBasis': 'KLXMB5BQ', 'brandedFare': 'ECOBASIC', 'brandedFareLabel': 'BASIC ECONOMY', 'class': 'K', 'includedCheckedBags': {'quantity': 0}, 'includedCabinBags': {'quantity': 1}, 'amenities': [{'description': 'CHECKED BAG FIRST', 'isChargeable': True, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'SECOND BAG', 'isChargeable': True, 'amenityType': 'BAGGAGE', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'PRE RESERVED SEAT ASSIGNMENT', 'isChargeable': True, 'amenityType': 'PRE_RESERVED_SEAT', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'PRIORITY BOARDING', 'isChargeable': True, 'amenityType': 'TRAVEL_SERVICES', 'amenityProvider': {'name': 'BrandedFare'}}, {'description': 'MILEAGE ACCRUAL', 'isChargeable': False, 'amenityType': 'BRANDED_FARES', 'amenityProvider': {'name': 'BrandedFare'}}]}]}]}], 'dictionaries': {'locations': {'LHR': {'cityCode': 'LON', 'countryCode': 'GB'}, 'SFO': {'cityCode': 'SFO', 'countryCode': 'US'}}, 'aircraft': {'777': 'BOEING 777-200/300', '789': 'BOEING 787-9'}, 'currencies': {'GBP': 'POUND STERLING'}, 'carriers': {'UA': 'UNITED AIRLINES'}}},
        #     {'meta': {'count': 0, 'links': {'self': 'https://test.api.amadeus.com/v2/shopping/flight-offers?originLocationCode=LON&destinationLocationCode=DBN&departureDate=2025-04-06&returnDate=2025-05-05&adults=1&nonStop=true&currencyCode=GBP&max=2'}}, 'data': []}
        # ]

    def fill_iata(self):
        for i in range (0, len(self.sheety_prices)):
            iata = self.flight_search.find_IATA(self.sheety_prices[i]["city"])
            body = {
                "price": {
                    "iataCode": iata
                }
            }
            response_iata = requests.put(url=f"{self.endpoint}/{i+2}", json=body)
            print(response_iata.json())

    def get_cheaper_flights(self):
        for item in self.sheety_prices:
            self.flights.append(self.flight_search.check_flights(item["iataCode"]))
